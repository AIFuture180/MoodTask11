<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MoodTask helps you improve your mood with personalized, science-backed activities.">
    <meta name="keywords" content="MoodTask, mental health, mood tracker, emotional well-being, stress relief">
    <meta name="robots" content="index, follow">
    <title>MoodTask - Transform Your Mood</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            color: #333;
            transition: background-color 0.3s ease;
        }
        .nav-bar {
            background-color: #fff;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            max-width: 1400px;
            margin: 0 auto;
            left: 0;
            right: 0;
        }
        .nav-bar .logo {
            font-size: 1.5em;
            font-weight: 700;
            color: #4A90E2;
        }
        .nav-bar .nav-links {
            display: flex;
            align-items: center;
            gap: 18px;
            padding-left: 30px;
            padding-right: 20px;
        }
        .nav-bar a {
            padding: 10px 15px;
            text-decoration: none;
            color: #2C3E50;
            font-weight: 400;
            transition: color 0.3s, background-color 0.3s, box-shadow 0.3s;
            border-radius: 5px;
        }
        .nav-bar a:hover {
            background-color: #f0f0f0;
            color: #2C3E50;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .nav-bar a.active {
            background-color: #4A90E2;
            color: white;
            font-weight: 600;
        }
        .nav-bar .dropdown {
            position: relative;
            display: inline-block;
        }
        .nav-bar .dropdown-content {
            display: none;
            position: absolute;
            background-color: #fff;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 5px;
            top: 100%;
            left: 0;
        }
        .nav-bar .dropdown-content a {
            color: #2C3E50;
            padding: 10px 16px;
            text-decoration: none;
            display: block;
            margin: 0;
            line-height: 1.5;
        }
        .nav-bar .dropdown-content a:hover {
            background-color: #f0f0f0;
        }
        .nav-bar .dropdown:hover .dropdown-content {
            display: block;
        }
        .hero {
            background: linear-gradient(135deg, #4A90E2, #2C3E50);
            color: white;
            padding: 100px 20px;
            text-align: center;
            margin-top: 60px;
            position: relative;
        }
        .hero h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .hero p {
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        .mood-button {
            padding: 15px 30px;
            background-color: #FFC107;
            color: #333;
            border: none;
            border-radius: 25px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
            animation: pulse 2s infinite;
            position: relative;
            z-index: 10;
        }
        .mood-button:hover {
            background-color: #FFB300;
            transform: scale(1.05);
        }
        .mood-button:focus {
            outline: 2px solid #FFD700;
            outline-offset: 2px;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 5px rgba(255, 193, 7, 0.5); }
            50% { transform: scale(1.05); box-shadow: 0 0 15px rgba(255, 193, 7, 0.8); }
            100% { transform: scale(1); box-shadow: 0 0 5px rgba(255, 193, 7, 0.5); }
        }
        .mood-grid {
            display: none;
            position: relative;
            margin-top: 20px;
            min-height: 400px;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
        }
        .mood-grid.active {
            display: block;
        }
        .mood-option {
            display: none; /* Initially hidden until grid is active */
            position: absolute;
            background: linear-gradient(135deg, #D6D1F5, #B0A8E5);
            color: #333;
            padding: 15px 30px;
            text-align: center;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            opacity: 0;
            animation: flyIn 0.5s ease forwards;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            min-width: 120px;
            border: 2px solid transparent;
            transition: left 0.5s ease, top 0.5s ease, transform 0.3s, background 0.3s, border 0.3s;
        }
        .mood-grid.active .mood-option {
            display: flex; /* Show buttons when grid is active */
        }
        .mood-option:hover {
            transform: scale(1.05);
            background: linear-gradient(135deg, #B0A8E5, #D6D1F5);
            border: 2px solid #FFD700;
        }
        .mood-option:focus {
            outline: 2px solid #FFD700;
            outline-offset: 2px;
        }
        .mood-option.selected {
            border: 2px solid #FFD700;
            box-shadow: 0 0 10px #FFD700;
            animation: glow 0.5s ease;
        }
        @keyframes flyIn {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes glow {
            0% { box-shadow: 0 0 5px #FFD700; }
            50% { box-shadow: 0 0 15px #FFD700; }
            100% { box-shadow: 0 0 5px #FFD700; }
        }
        /* Mood-specific gradients and text colors */
        .mood-option[data-mood="Sad"] { background: linear-gradient(135deg, #4A90E2, #87CEEB); color: #fff; }
        .mood-option[data-mood="Angry"] { background: linear-gradient(135deg, #FF6B6B, #FF8787); color: #fff; }
        .mood-option[data-mood="Frustrated"] { background: linear-gradient(135deg, #FF8C00, #FFA940); color: #333; }
        .mood-option[data-mood="Anxious"] { background: linear-gradient(135deg, #FFD700, #FFE066); color: #333; }
        .mood-option[data-mood="Stressed"] { background: linear-gradient(135deg, #FF4040, #FF6666); color: #fff; }
        .mood-option[data-mood="Tired"] { background: linear-gradient(135deg, #A9A9A9, #C0C0C0); color: #333; }
        .mood-option[data-mood="Bored"] { background: linear-gradient(135deg, #808080, #A9A9A9); color: #fff; }
        .mood-option[data-mood="Excited"] { background: linear-gradient(135deg, #FF69B4, #FF85C2); color: #fff; }
        .mood-option[data-mood="Relaxed"] { background: linear-gradient(135deg, #32CD32, #4DED4D); color: #333; }
        .mood-option[data-mood="Happy"] { background: linear-gradient(135deg, #FFD700, #FFE066); color: #333; }
        .content-wrapper {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .recommendation {
            display: none;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            flex: 1;
            max-width: 600px;
            margin: 20px;
            text-align: left;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .recommendation.active {
            display: block;
            opacity: 1;
        }
        .recommendation h3 {
            color: #4A90E2;
            margin-bottom: 10px;
        }
        .recommendation p {
            color: #555;
            line-height: 1.6;
        }
        .recommendation a {
            color: #4A90E2;
            text-decoration: underline;
        }
        .recommendation a:hover {
            color: #2C3E50;
        }
        .expert-explanation {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-size: 0.9em;
        }
        .ad-player {
            flex: 0 0 450px;
            margin: 20px;
            text-align: left;
            position: relative;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            transition: transform 0.3s;
            background: linear-gradient(135deg, #f5f5f5, #e0e0e0);
            border: 1px solid #4A90E2;
        }
        .ad-player:hover {
            transform: scale(1.02);
        }
        .ad-player video {
            width: 100%;
            border-radius: 10px;
            display: block;
        }
        .ad-content {
            padding: 10px;
        }
        .ad-player-text {
            margin: 10px 0;
            font-size: 1.1em;
            font-weight: 600;
            color: #fff;
            text-align: center;
            text-decoration: none;
            background-color: #00A651;
            padding: 8px 12px;
            border-radius: 5px;
            display: block;
            transition: background-color 0.3s;
            position: relative;
        }
        .ad-player-text:hover {
            background-color: #00843D;
            text-decoration: none;
        }
        .ad-player-text:hover .benefit-tooltip {
            opacity: 1;
            transform: translateY(0);
        }
        .ad-player-text i {
            margin-right: 5px;
        }
        .ad-player-text .highlight {
            font-weight: 700;
            color: #FFC107;
        }
        .benefit-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            white-space: nowrap;
        }
        .cta-button {
            display: block;
            text-align: center;
            padding: 10px;
            background-color: #00A651;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        .cta-button:hover {
            background-color: #00843D;
        }
        .footer {
            background-color: #333;
            color: white;
            padding: 40px 20px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            text-align: left;
        }
        .footer h3 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        .footer a {
            color: #D6D1F5;
            text-decoration: none;
            display: block;
            margin: 5px 0;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .footer .affiliate-note {
            font-size: 0.8em;
            color: #aaa;
            margin-top: 20px;
            text-align: center;
            width: 100%;
        }
        .footer .connect a {
            padding: 10px 20px;
            margin: 5px 0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 5px;
            text-decoration: none;
        }
        .footer .connect .coffee {
            background-color: #FFC107;
            color: #333;
        }
        .footer .connect .therapy {
            background-color: #4A90E2;
            color: white;
        }
        .footer .connect .mindfulness {
            background-color: #6BCB77;
            color: white;
        }
        @media (max-width: 600px) {
            .nav-bar {
                flex-direction: column;
                gap: 12px;
                padding: 15px 20px;
            }
            .nav-bar .nav-links {
                flex-direction: column;
                gap: 12px;
                align-items: center;
                width: 100%;
                padding-left: 0;
                padding-right: 0;
            }
            .nav-bar a {
                padding: 12px 20px;
                width: 100%;
                text-align: center;
                box-sizing: border-box;
            }
            .nav-bar .dropdown {
                width: 100%;
            }
            .nav-bar .dropdown-content {
                width: 100%;
                left: 0;
            }
            .hero {
                padding: 60px 15px;
            }
            .hero h1 {
                font-size: 1.8em;
            }
            .mood-grid {
                min-height: 500px;
            }
            .mood-option {
                padding: 10px 20px;
                font-size: 1em;
                min-width: 100px;
            }
            .content-wrapper {
                flex-direction: column;
                padding: 0 10px;
            }
            .ad-player {
                flex: 0 0 450px;
                margin: 20px auto;
                text-align: center;
            }
            .recommendation {
                margin: 20px auto;
                max-width: 100%;
            }
            .ad-player video {
                width: 100%;
            }
            .ad-player-text {
                font-size: 0.95em;
                padding: 6px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="nav-bar">
        <div class="logo">MoodTask</div>
        <div class="nav-links">
            <a href="index.html" class="active">Home</a>
            <a href="calendar.html">Dashboard</a>
            <a href="activities.html">Activities</a>
            <a href="music.html">Mood Music</a>
            <a href="blog.html">Blog</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Use</a>
        </div>
    </div>
    <div class="hero">
        <h1>Transform Your Mood</h1>
        <p>Discover science-backed activities tailored to how you feel right now.</p>
        <button class="mood-button" id="moodButton" tabindex="0" aria-label="Open mood selection">How are you feeling?</button>
        <div class="mood-grid" id="moodGrid">
            <div class="mood-option" data-mood="Sad" tabindex="0" aria-label="Select Sad mood">üò¢ Sad</div>
            <div class="mood-option" data-mood="Angry" tabindex="0" aria-label="Select Angry mood">üò° Angry</div>
            <div class="mood-option" data-mood="Frustrated" tabindex="0" aria-label="Select Frustrated mood">üò§ Frustrated</div>
            <div class="mood-option" data-mood="Anxious" tabindex="0" aria-label="Select Anxious mood">üòü Anxious</div>
            <div class="mood-option" data-mood="Stressed" tabindex="0" aria-label="Select Stressed mood">üò´ Stressed</div>
            <div class="mood-option" data-mood="Tired" tabindex="0" aria-label="Select Tired mood">üò¥ Tired</div>
            <div class="mood-option" data-mood="Bored" tabindex="0" aria-label="Select Bored mood">üòê Bored</div>
            <div class="mood-option" data-mood="Excited" tabindex="0" aria-label="Select Excited mood">üéâ Excited</div>
            <div class="mood-option" data-mood="Relaxed" tabindex="0" aria-label="Select Relaxed mood">üßò Relaxed</div>
            <div class="mood-option" data-mood="Happy" tabindex="0" aria-label="Select Happy mood">üòä Happy</div>
        </div>
    </div>
    <div class="content-wrapper">
        <div class="ad-player" id="adPlayer">
            <a href="https://amzn.to/4jbEB3h" target="_blank">
                <video autoplay muted loop controls poster="https://via.placeholder.com/450x75?text=AG1+Product+Shot">
                    <source src="./AG1 Clip.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </a>
            <div class="ad-content">
                <a href="https://amzn.to/4jbEB3h" target="_blank" class="ad-player-text">
                    <i class="fas fa-leaf"></i> Discover <span class="highlight">AG1</span> ‚Äì a daily health drink with <span class="highlight">75 nutrients</span> to help <span class="highlight">alleviate bloating</span> and support <span class="highlight">sustained energy</span>.
                    <span class="benefit-tooltip">Also supports gut health!</span>
                </a>
                <a href="https://amzn.to/4jbEB3h" target="_blank" class="cta-button">
                    Try AG1 Today
                </a>
            </div>
        </div>
        <div class="recommendation" id="SadRecommendation">
            <h3>You're Feeling Sad</h3>
            <p>Lift your spirits with these science-backed activities:</p>
            <ul>
                <li><a href="activities.html">Gratitude Note</a>: Reflect on positive moments.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Gratitude activates the prefrontal cortex, regulating emotional processing and reducing sadness, as Huberman notes in his work on neural plasticity.
                </div>
                <li><a href="activities.html">Progressive Muscle Relaxation</a>: Calm your body and mind.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Matt Walker):</strong> Progressive Muscle Relaxation reduces emotional distress by releasing physical tension, calming the amygdala and promoting relaxation, as supported by stress research.
                </div>
                <li><a href="activities.html">Breathing Exercise</a>: Try slow, deep breaths.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Deep breathing stimulates the vagus nerve, reducing sadness by activating the parasympathetic nervous system, as Huberman explains.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="AngryRecommendation">
            <h3>You're Feeling Angry</h3>
            <p>Channel your energy with these activities:</p>
            <ul>
                <li><a href="activities.html">Punching Bag</a>: Release tension with a virtual punching bag.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Physical activity reduces cortisol and adrenaline, dissipating anger. Huberman emphasizes that exertion calms the amygdala, restoring emotional balance.
                </div>
                <li><a href="activities.html">Breathing Exercise</a>: Practice 4-7-8 breathing.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Lisa Feldman Barrett):</strong> Slow breathing shifts emotional states by altering physiological arousal, as Barrett‚Äôs theory of constructed emotion suggests.
                </div>
                <li><a href="activities.html">Worry Shredder</a>: Write and shred your frustrations.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Expressive writing externalizes anger, reducing amygdala activity and promoting clarity, per Huberman‚Äôs stress research.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="FrustratedRecommendation">
            <h3>You're Feeling Frustrated</h3>
            <p>Reset with these activities:</p>
            <ul>
                <li><a href="activities.html">Punching Bag</a>: Release frustration physically.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Physical exertion lowers cortisol, diffusing frustration and calming the amygdala, per Huberman‚Äôs stress research.
                </div>
                <li><a href="activities.html">Worry Shredder</a>: Write down what‚Äôs bothering you.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Conventional wisdom):</strong> Expressive writing reduces amygdala activity, processing negative emotions, as suggested by psychological research.
                </div>
                <li><a href="activities.html">Breathing Exercise</a>: Try slow breathing.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Lisa Feldman Barrett):</strong> Breathing alters physiological arousal, reshaping frustration into calm, per Barrett‚Äôs emotion construction theory.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="AnxiousRecommendation">
            <h3>You're Feeling Anxious</h3>
            <p>Calm your mind with these activities:</p>
            <ul>
                <li><a href="activities.html">Breathing Exercise</a>: Try 4-7-8 breathing.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Extended exhalation triggers the parasympathetic response, reducing anxiety by calming the nervous system, as Huberman explains.
                </div>
                <li><a href="activities.html">Color Focus</a>: Ground yourself with a color focus exercise.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Visual focus diverts attention from anxious thoughts, stabilizing heart rate by engaging the occipital lobe, per Huberman‚Äôs work.
                </div>
                <li><a href="activities.html">Progressive Muscle Relaxation</a>: Calm your body and mind.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Matt Walker):</strong> Progressive Muscle Relaxation eases anxiety by systematically releasing muscle tension, lowering sympathetic nervous system activity, as stress studies show.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="StressedRecommendation">
            <h3>You're Feeling Stressed</h3>
            <p>Relieve tension with these activities:</p>
            <ul>
                <li><a href="activities.html">Stretch</a>: Try a stretch routine or a <a href="https://amzn.to/4i6jcXK">Weighted Heated Lap Pad</a>.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Stretching releases muscle tension, and weighted pressure calms the nervous system via deep pressure touch, reducing stress, per Huberman.
                </div>
                <li><a href="activities.html">Worry Shredder</a>: Write and shred your stressors.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Lisa Feldman Barrett):</strong> Writing externalizes stress, altering emotional perception and reducing amygdala overactivity, as Barrett‚Äôs research suggests.
                </div>
                <li><a href="activities.html">Breathing Exercise</a>: Practice slow breathing.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Slow breathing lowers cortisol and activates the vagus nerve, reducing stress, as Huberman‚Äôs neuroscience work shows.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="TiredRecommendation">
            <h3>You're Feeling Tired</h3>
            <p>Recharge with these activities:</p>
            <ul>
                <li><a href="activities.html">Progressive Muscle Relaxation</a>: Relax your body and mind.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Matt Walker):</strong> Progressive Muscle Relaxation promotes relaxation by releasing muscle tension, helping combat fatigue and supporting rest, as stress research demonstrates.
                </div>
                <li><a href="activities.html">Breathing Exercise</a>: Try a relaxing breath cycle.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Slow breathing reduces heart rate and prepares the body for rest, enhancing energy, per Huberman‚Äôs work on arousal.
                </div>
                <li><a href="activities.html">Stretch</a>: Do a gentle stretch routine.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Matt Walker):</strong> Gentle movement increases blood flow, reducing fatigue and supporting sleep readiness, as Walker‚Äôs studies suggest.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="BoredRecommendation">
            <h3>You're Feeling Bored</h3>
            <p>Spark interest with these activities:</p>
            <ul>
                <li><a href="activities.html">Progressive Muscle Relaxation</a>: Engage your body and mind.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Progressive Muscle Relaxation engages your body and mind, reducing boredom by focusing on physical sensations, as stress research suggests.
                </div>
                <li><a href="activities.html">Guided Meditation</a>: Engage your mind with mindfulness.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Guided Meditation engages your mind by focusing attention, reducing boredom through mindfulness, as Huberman‚Äôs focus studies show.
                </div>
                <li><a href="activities.html">Color Focus</a>: Engage with a color focus exercise.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Lisa Feldman Barrett):</strong> Visual engagement shifts emotional perception, reducing boredom by creating new sensory experiences, per Barrett.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="ExcitedRecommendation">
            <h3>You're Feeling Excited</h3>
            <p>Channel your energy with these activities:</p>
            <ul>
                <li><a href="activities.html">Guided Meditation</a>: Channel your enthusiasm mindfully.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Guided Meditation channels your excitement by focusing your energy, sustaining positive arousal, as Huberman‚Äôs focus studies show.
                </div>
                <li><a href="activities.html">Doodle</a>: Express your enthusiasm creatively.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Lisa Feldman Barrett):</strong> Creative expression channels high arousal into positive outcomes, shaping emotional experiences, as Barrett‚Äôs work shows.
                </div>
                <li><a href="activities.html">Gratitude Note</a>: Reflect on what‚Äôs sparking your excitement.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Gratitude reinforces positive neural circuits, sustaining high energy, per Huberman‚Äôs insights on optimism.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="RelaxedRecommendation">
            <h3>You're Feeling Relaxed</h3>
            <p>Enhance your calm with these activities:</p>
            <ul>
                <li><a href="activities.html">Progressive Muscle Relaxation</a>: Deepen your relaxation.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Matt Walker):</strong> Progressive Muscle Relaxation deepens relaxation by systematically releasing tension, reducing sympathetic activity, as stress research shows.
                </div>
                <li><a href="activities.html">Gratitude Note</a>: Reflect on positive moments.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Gratitude reinforces positive neural circuits, sustaining calm, as Huberman‚Äôs optimism research shows.
                </div>
                <li><a href="activities.html">Stretch</a>: Try a gentle stretch routine.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Stretching maintains relaxation by releasing muscle tension and boosting endorphins, per Huberman‚Äôs work.
                </div>
            </ul>
        </div>
        <div class="recommendation" id="HappyRecommendation">
            <h3>You're Feeling Happy!</h3>
            <p>Keep that positive vibe going with these expert-recommended activities:</p>
            <ul>
                <li><a href="activities.html">Progressive Muscle Relaxation</a>: Maintain your positive mood.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Progressive Muscle Relaxation maintains your positive mood by releasing any subtle tension, keeping you grounded, as stress research suggests.
                </div>
                <li><a href="activities.html">Gratitude Note</a>: Write down three things you‚Äôre thankful for.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Lisa Feldman Barrett):</strong> Gratitude reshapes emotional perception by focusing on positive experiences, strengthening neural pathways for optimism, as Barrett‚Äôs work on emotion construction suggests.
                </div>
                <li><a href="activities.html">Doodle</a>: Express your happiness through creative sketching.</li>
                <div class="expert-explanation">
                    <strong>Why it helps (Dr. Andrew Huberman):</strong> Creative tasks like doodling engage the prefrontal cortex, channeling positive energy into productive outlets, per Huberman‚Äôs insights on neural creativity.
                </div>
            </ul>
        </div>
    </div>
    <div class="footer">
        <div>
            <h3>MoodTask</h3>
            <p>Transform your mood with science-backed activities designed to improve your emotional well-being.</p>
        </div>
        <div>
            <h3>Quick Links</h3>
            <a href="index.html">Home</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Use</a>
        </div>
        <div class="connect">
            <h3>Connect</h3>
            <a href="https://twitter.com/share?url=https://moodtask.org"><i class="fab fa-twitter"></i> Share on Twitter</a>
            <a href="https://www.buymeacoffee.com/moodtask" class="coffee"><i class="fas fa-coffee"></i> Buy Me a Coffee</a>
            <a href="https://www.online-therapy.com/?aff_id=12345" class="therapy">Online Therapy</a>
            <a href="https://www.mindfulness.com/?aff_id=67890" class="mindfulness">Mindfulness</a>
        </div>
        <div class="affiliate-note">
            AFFILIATE DISCLOSURE: Some links on this site are affiliate links. We may earn a commission on purchases at no extra cost to you.<br>
            ¬© 2025 MoodTask. All rights reserved.
        </div>
    </div>
    <audio id="chimeSound" src="chime.mp3"></audio>
    <audio id="selectSadSound" src="select-sad.mp3"></audio>
    <audio id="selectAngrySound" src="select-angry.mp3"></audio>
    <audio id="selectFrustratedSound" src="select-frustrated.mp3"></audio>
    <audio id="selectAnxiousSound" src="select-anxious.mp3"></audio>
    <audio id="selectStressedSound" src="select-stressed.mp3"></audio>
    <audio id="selectTiredSound" src="select-tired.mp3"></audio>
    <audio id="selectBoredSound" src="select-bored.mp3"></audio>
    <audio id="selectExcitedSound" src="select-excited.mp3"></audio>
    <audio id="selectRelaxedSound" src="select-relaxed.mp3"></audio>
    <audio id="selectHappySound" src="select-happy.mp3"></audio>
    <script>
        function toggleMoodGrid() {
            const grid = document.getElementById('moodGrid');
            if (grid) {
                grid.classList.toggle('active');
                if (grid.classList.contains('active')) {
                    positionMoodButtons(); // Position buttons in a circle initially
                    setTimeout(positionInTwoRows, 1000); // After 1s (flyIn duration + buffer), move to two-row grid
                    const chime = document.getElementById('chimeSound');
                    if (chime) chime.play().catch(error => console.error('Chime sound failed:', error));
                }
                console.log('Mood grid toggled:', grid.classList.contains('active') ? 'visible' : 'hidden');
            } else {
                console.error('Mood grid element not found');
            }
        }

        function positionMoodButtons() {
            const moodOptions = document.querySelectorAll('.mood-option');
            const grid = document.getElementById('moodGrid');
            const gridWidth = grid.offsetWidth;
            const gridHeight = grid.offsetHeight;
            const centerX = gridWidth / 2;
            const centerY = gridHeight / 2;
            const buttonCount = moodOptions.length;
            const avgButtonWidth = 120; // Approximate average width of a button
            const avgButtonHeight = 40; // Approximate average height of a button
            const minRadius = Math.max(avgButtonWidth * buttonCount / (2 * Math.PI), 150) * 1.5; // Increase circle size by 1.5x
            const maxRadius = Math.min(gridWidth, gridHeight) / 2 - Math.max(avgButtonWidth, avgButtonHeight);
            const radius = Math.min(minRadius, maxRadius) * 0.9; // Slightly larger multiplier for visibility

            moodOptions.forEach((option, index) => {
                const angle = (index / buttonCount) * 2 * Math.PI;
                const x = centerX + radius * Math.cos(angle) - (avgButtonWidth / 2);
                const y = centerY + radius * Math.sin(angle) - (avgButtonHeight / 2);
                option.style.left = `${x}px`;
                option.style.top = `${y}px`;
                option.style.animationDelay = `${index * 0.1}s`;
            });
        }

        function positionInTwoRows() {
            const moodOptions = document.querySelectorAll('.mood-option');
            const grid = document.getElementById('moodGrid');
            const gridWidth = grid.offsetWidth;
            const buttonsPerRow = 5; // 5 buttons per row, 2 rows total
            const buttonWidth = 120; // Approximate width of each button
            const buttonHeight = 40; // Approximate height of each button
            const gap = 30; // Increased gap between buttons
            const totalRowWidth = (buttonWidth * buttonsPerRow) + (gap * (buttonsPerRow - 1));
            const startX = (gridWidth - totalRowWidth) / 2; // Center the rows
            const rowHeight = buttonHeight + gap; // Height of each row including gap

            moodOptions.forEach((option, index) => {
                const row = Math.floor(index / buttonsPerRow); // 0 for first row, 1 for second row
                const col = index % buttonsPerRow; // Column position (0 to 4)
                const x = startX + (col * (buttonWidth + gap));
                const y = 50 + (row * rowHeight); // Start at 50px from top, add row height for second row
                option.style.left = `${x}px`;
                option.style.top = `${y}px`;
            });
        }

        function showRecommendation(mood) {
            document.querySelectorAll('.mood-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.mood === mood) {
                    option.classList.add('selected');
                }
            });

            const sound = document.getElementById(`select${mood}Sound`);
            if (sound) sound.play().catch(error => console.error(`Sound for ${mood} failed:`, error));

            document.querySelectorAll('.recommendation').forEach(rec => {
                rec.classList.remove('active');
            });
            const recommendation = document.getElementById(mood + 'Recommendation');
            if (recommendation) {
                recommendation.classList.add('active');
                console.log('Showing recommendation for:', mood);
            } else {
                console.error('Recommendation element not found for mood:', mood);
            }
            const grid = document.getElementById('moodGrid');
            if (grid) {
                grid.classList.remove('active');
            }

            const today = new Date().toISOString().split('T')[0];
            const storedMood = localStorage.getItem(`mood-${today}`);
            if (!storedMood) {
                localStorage.setItem(`mood-${today}`, mood);
                console.log(`Saved mood for ${today}: ${mood}`);
            } else {
                console.log(`Mood already saved for ${today}: ${storedMood}`);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const moodButton = document.getElementById('moodButton');
            if (moodButton) {
                moodButton.addEventListener('click', toggleMoodGrid);
                moodButton.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleMoodGrid();
                    }
                });
                console.log('Mood button event listener attached');
            } else {
                console.error('Mood button not found');
            }
            const moodOptions = document.querySelectorAll('.mood-option');
            if (moodOptions.length > 0) {
                moodOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        const mood = option.dataset.mood;
                        showRecommendation(mood);
                    });
                    option.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            const mood = option.dataset.mood;
                            showRecommendation(mood);
                        }
                    });
                });
                console.log('Mood option event listeners attached:', moodOptions.length);
            } else {
                console.error('No mood options found');
            }

            const adPlayer = document.getElementById('adPlayer');
            if (adPlayer) {
                console.log('Ad player initialized with autoplay and loop');
                adPlayer.addEventListener('click', (e) => {
                    if (e.target.tagName === 'VIDEO') {
                        console.log('Ad player video clicked, redirecting to affiliate link');
                    }
                });
                const video = adPlayer.querySelector('video');
                if (video) {
                    video.play().catch(error => {
                        console.error('Autoplay failed:', error);
                    });
                }
            } else {
                console.error('Ad player element not found');
            }

            window.addEventListener('resize', () => {
                if (document.getElementById('moodGrid').classList.contains('active')) {
                    positionMoodButtons();
                    setTimeout(positionInTwoRows, 1000);
                }
            });
        });
    </script>
</body>
</html>
